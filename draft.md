# 原稿「生態学者がGitを使うべき理由」

## 1. タイトル

:grimacing:横浜国立大学の瓜生です。生態学者がGitを使うべき理由という題で発表します。

## 2.

私は樹木の萌芽を扱った研究をしていますが、今回の発表は、私自身の研究の話ではありません。

## 3. 

何の話をするのかといいますと、研究における再現性の話をしたいと思います。最近話題ですよね、研究の再現性。

これから話す内容では、Gitというツールを用いるのですが、Gitについてお詳しい方はいらっしゃいますでしょうか...:open_hands:

### if 会場にいたら

ありがとうございます。どうですか、私の代わりに発表しませんか:open_hands:。というのは冗談です:grin:。

### else

ありがとうございます。安心しました。

**これから話す内容は、会場の皆さんが知らない、私のとっておきの話です**。みなさんのお役に立てる内容であると確信しています。

## 4. 再現性

先程、研究の再現性が話題ですね、といいましたが、実は昔から言われている問題です。論文の中で述べている内容の復元は、研究の信憑性を高めるために必要ですが、完璧にやり直すというのは難しい。特に我々生態学者が扱う自然科学を再現することの難しさは、皆さんご存知のとおりです。

(...)

21世紀になってコンピュータが発達し、多くの科学者がコンピュータを使うようになりました。皆さんもコンピュータでデータを解析し、論文を書いていますよね。コンピュータでファイルを作ることで、少なくとも以前のペンとインクを使った研究よりは再現性の高い研究ができているかと思います。

## 5. ところが

(...) こんな話があります。皆さんにも心当たりがあるかもしれません。

## 6. 闇1

:dash: *原稿バージョン０、原稿バージョン1.1、投稿論文用...*

ファイル名というのは厄介ですね。どうするのが最善策でしょうか。

## 7. 闇2

今度は解析で使うファイルです。再解析をする場合にコードを見なおして、こうなります。:rage:**誰がこんなわかりにくいコードを書いたんだ？**それはおそらく過去の自分です。

## 8. 闇3

他にも研究をしていて陥る闇はありますよね。私は特に、えくせるでの作業が嫌いです。以前はかちかちと手を動かしてデータを整形していましたが、同じような作業の繰り返しにはうんざりです:joy:。

## 9. 

こんなことをしていては再現性どころの話ではありません。やめたいです。ではどうすれば良いか...。


## 10. 光明

... ここからが本題です:fire:。

## 11. Git

(...)

## 12. Gitとはなにか

Gitは分散型のバージョン管理システムの一つです。コンピュータの開発者などが主に使っていました。

バージョン管理はバックアップとは異なります。対象とするファイルの変更を記録するのが主ですが、他にも再現性を高めるために有効な機能を備えています。主な機能を紹介します。

## 13. 作業内容の履歴

Gitではファイルの変更内容とともに、誰がいつそれを行ったのかが記録されます。こちらをご覧ください。このスライドもRを使って作った（どや）のですが、それをGitで管理しています。

コミットというのが作業内容の記録で、作業内容の概要を記録できます。要旨を書いたのが18日で、それから資料を作り始めたというのがばれてしまいますね。

## 14. 差分表示

変更したファイルと過去のファイルを比べることもできます。元のファイルのどこに変更を加えたのか、コミットのコメントと照らし合わせることで、過去の自分がどういう意図で変更したのかというのが追えるという利点があります。

## 15. 差分表示（画像）

Gitで管理できるファイルの種類には制限がありますが、あとで紹介するGitHubの機能を使うと、画像の差分をとることもできます。こちらの例では、画像サイズは変わっていませんが、新しい画像では眼鏡をつけたことがわかります。	

面倒だなと思われた方もいるかもしれません。しかし残念なことに、我々の記憶力はコンピュータに劣ります。**我々は確実にバージョン管理システムを導入するべきです**。

私の好きな言葉を紹介します。

## 16. なぜGitを使うのか

コンピュータが発達する前は、記録のためにペンとインクが必要でした。今インクを使う機会は減ってしまいましたが、その代わりにコンピュータという素晴らしい相棒がいます。

**研究は自分だけのものではありません。未来の自分や共同研究者、未来の自分、読者のために、Gitが必要なのです**。

## 17. GitHub

最後に少しだけ、GitHubの話をしたいと思います。

## 18. GitHubとはなにか

Gitはコンピュータ内でプロジェクトを管理します。GitHubはGitで管理するプロジェクトのリポジトリをインターネット上で管理・公開するホスティングサイトです。

インターネット上で公開されるため、誰もがそのリポジトリに対してコメントや問題の報告、具体的なファイルの修正といったコミュニケーションをとることができます。**大事なことは、誰もが興味のあるプロジェクトに参加できる**、ということです。第三者の介入により、プロジェクトは改善され、より良いものになっていきます。

素敵なことに学生あるいは研究組織であれば、非公開のリポジトリを作成することができるので、実際の研究に導入することをおすすめします。

実際にGitHubを使った事例をいくつかお話します。

## 19. GitHub活用事例1

会場にいる多くの方がRを使っているかと思います。RのパッケージはCRANが配布していますが、実はGitHubからもダウンロードできます。開発者が直接パッケージを管理でき、利用者がバグ報告などを行えるので、今はGitHubで開発・配布を行うパッケージが増えています。

## 20. GitHub活用事例2

進化生態学者であるDaniel falsterさんが中心となって、BADDという樹木のアロメトリーに関するデータベースが作成されています。

使っているデータと解析のためのRコードをGitHubで管理しています。

## 21. GitHub活用事例3

そしてもう一つ。毎年恒例の関東地区の修士論文発表会を２月28日に行いますが、実は私は発表会の実行委員を務めています。なので宣伝を兼ねて。

修士論文発表会の告知用のウェブサイトのファイルはGitHubで管理しています。ウェブサイト自身もGitHubのサーバーを使って公開しています。

修士２年の方は発表申し込みを、他の皆さんも是非ご参加ください。

## 22. Reproducible Research

今まで話した内容というのは、有名な雑誌でも議論されています。Natureにも科学者に求められるツールを紹介するページが設けられています。

## 23. Try Git (End)

生態学者がGitを使うべき理由は次の３点です。

**自分自身のため、共同研究者のため、そしてまだ見ぬ誰かのために**。

これで発表を終わります。ありがとうございました。
